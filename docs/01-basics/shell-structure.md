---
title: Shell Structure（割物／ポカ物）
category: basics
tags: [pyro, shell, visuals, gameplay]
summary: 日本式球殼花火的高層構造與審美；附可遊戲化參數、評分與關卡鉤子（不涉化學或製作配方）
---

# Shell Structure（割物／ポカ物）

> 本文件側重「視覺設計／遊戲抽象」，僅描述**高層概念**與審美語彙；**不包含任何藥配或實作流程**。

日本的打上花火，依外殼破裂型態大致分為兩類：

- **割物（Warimono）**：追求徑向對稱的**完美球**；常見樣式有 *牡丹*（Peony）、*菊*（Chrysanthemum/帶尾）、*大麗花*（Dahlia/粗顆粒）、*千輪*（Senrin）等。
- **ポカ物（Poka）**：外殼在上空「啪」地分離，內容物散出，不以完美球為目標；多用於音效、煙跡或日間表演。  
  > 有時會提到 **小割物**（介於兩者之間），但在本遊戲中暫不單列。

---

## 高層構造（概念圖譜）

- **玉皮（紙殼）**：多層紙漿貼合成的球殼；其強度與破裂方式直接影響球度與碎殼表現。  
- **星（Stars）**：發光或帶尾的微小單元；**排列**決定圖樣（例：菊、牡丹、千輪）。  
- **割藥（Burst）**：位於星群中央，用於推散星體、形成綻放形體（僅抽象概念）。  
- **芯（Pistil，可選）**：中心再增加一層星或異色環，形成雙層／複瓣。  
- **時限信管（Time Fuse）**：由揚藥引燃後延遲，於頂點附近破裂。  
- **揚藥（Lift）**：在迫擊管中將花火玉送上空；在本遊戲可抽象為「上升速度曲線」。

### 破裂時機與觀感

- **頂點附近開花**：上升與下墜動量相抵，綻放最接近**完美球**。  
- **偏早（上升中）**：視覺呈現**扇形**、球度不足。  
- **偏晚（下降中）**：星軌向下拖尾，球形被**拉長**、圓度降低。

---

## 外殼材質與構造（高層）

> 僅談材質特性與審美；不涉及化學比例或工法細節。

### 紙殼（玉皮／紙貼り）
- 多層紙（如牛皮紙、和紙、紙板）疊貼成兩個半球再對合成球；外層再貼紙並充分乾燥以提升均勻強度與球度穩定。
- 內部以「均勻排星 → 置中破裂藥室 → 合球 → 外貼 → 乾燥」為高層流程要點；整體均勻性與乾燥良好度，決定空中**對稱開花**的穩定性。

### 塑膠殼（Plastic）
- 組裝快速、量產友善；但常見觀點是**對稱破裂較難**、碎片可見度較高，球度上限偏保守（可作為關卡限制或權衡）。

### ポカ物（薄殼結構）
- 為了上空「ポカッ」地輕裂放出內容物（雷粒、小花等），**外殼刻意較薄**；強調聲音與煙跡，不以完美球為主要目標。

#### 為何紙殼在日本系審美裡佔優
- 多層紙與貼層帶來較**各向均勻的剛性**與穩定破裂壓力分布，更容易得到**徑向平均**的球形綻放（Warimono）。

---

### 【可遊戲化】材質映射（抽象參數）

| 參數 | 範例/型別 | 影響 |
|---|---|---|
| `shell_material` | `paper` \| `pressed_cardboard` \| `plastic` \| `poka_thin` | 選擇破裂模型與碎片表現 |
| `paper_layers` | 8–20（抽象） | 等效貼層數：越高→球度穩定、碎裂更均勻 |
| `shell_rigidity` | 0–1 | 殼剛性：過低→鬆散；過高→過尖、易「爆圈」 |
| `shell_mass` | 抽象單位 | 影響上升慣性與頂點窗口寬度（和 `apex_bias` 聯動） |
| `moisture_state` | 0–1 | 濕度影響剛性/質量：高濕→球度下修、煙跡增加 |
| `seam_model` | `equator` \| `none` | 是否有可見合縫造成的微弱不對稱（可作小幅懲罰） |
| `fragment_style` | `paper_bits` \| `shell_shards` \| `poka_flakes` | 視覺碎片類型（純演出層） |

> 例：`shell_material=paper` + 較高 `paper_layers` + 低 `moisture_state` ⇒ **球度評分**上限更高；`poka_thin` ⇒ 改以**聲音/煙跡評分**為主。
## 審美重點（評分語彙）

- **球度／對稱性**：綻放是否接近圓，角向分布是否均勻。  
- **密度／均勻**：星之間角距一致、無明顯稀疏團塊。  
- **層次／芯**：是否清楚呈現內外雙層、變色順序明確。  
- **色彩與殘像**：色塊乾淨不混濁；拖尾與殘光不糊成一片。

---

## 【可遊戲化】核心參數

> 皆為**抽象參數**，對應粒子／動畫控制；不涉化學或實作。

| 參數 | 類型/範例 | 視覺效果 / 遊戲影響 |
|---|---|---|
| `shell_type` | `warimono` \| `poka` | 破裂模型：完美球 vs 殼分體/散射 |
| `caliber_mm` | 75 / 120 / 180… | 影響上升高度與期望散布半徑（可連動難度/評分權重） |
| `burst_strength` | 0–1 | 星初速大小；太大過度擴散，太小不成球 |
| `apex_bias` | -1…1 | 相對頂點的時機偏移（早=扇形；晚=下墜拖尾） |
| `star_layout` | `peony` \| `chrysanthemum` \| `dahlia` \| `senrin` \| `pistil+peony`… | 圖樣與是否帶尾／含芯 |
| `layers` | 陣列 | 內/中/外層的色彩、粒徑、尾型設定 |
| `symmetry_tolerance` | 角度容忍度 | 評分嚴格度；越小越難拿滿分 |
| `shatter_style` | `none` \| `shell-fragments` \| `ring-shards` | `poka` 用的碎殼演出 |
| `sound_profile` | `soft` \| `crack` \| `thunder` | 聲景差異（純視聽演出，不涉藥性） |

### 頂點判斷（概念）

以高度最大或速度接近 0 的時刻作為頂點估計：

```text
apex_time = argmax(height(t))    # 或找到 |velocity(t)| 的最小值時刻
apex_bias  = (explode_time - apex_time) / time_window
# 正值=晚開；負值=早開；據此改變形體懲罰或扣分
```
## 【可遊戲化】評分建議

- **形體分（50%）**：球度、對稱、密度均勻。  
- **時機分（30%）**：`apex_bias` 接近 0（頂點開花）。  
- **層次分（20%）**：芯與外層的辨識度、色彩分離清楚。  

> 進階：依 `shell_type` 套不同曲線（例：`poka` 更重視聲音與碎殼表現）。

---

## 關卡鉤子（設計點子）

- **檢定賽**：限定口徑與圖樣，在時間內達到 `symmetry ≥ X` 才通過。  
- **日間場**：`shell_type = poka`；降低發光、強化煙跡/聲音表演。  
- **職人挑戰**：三層外環＋芯（`layers = 3`），在 3 次嘗試內達到「圓度 S 級」。  

---

## 術語速覽

- **Warimono（割物）**：追求完美球的球形綻放。  
- **Poka（ポカ物）**：殼分體、內容物散出型。  
- **Pistil（芯）**：中心第二層小花／異色核心。  

---

## 延伸閱讀（倉內）

- **排列**：[`Star Arrangement`](./star-arrangement.md)  
- **星的材料與效果語彙**：[`Star Compounds`](./star-compounds.md)  
- **綻放樣式**：[`Burst Patterns`](../03-effects/burst-patterns.md)  
- **延時與頂點判斷**：[`Fuse Timing`](../02-timing/fuse-timing.md)  
- **文化與活動**：[`Culture & Events`](../90-culture/culture-and-events.md)
